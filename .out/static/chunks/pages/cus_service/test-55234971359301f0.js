(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{5616:function(t,e,a){"use strict";a.d(e,{Z:function(){return w}});var r=a(7462),s=a(3366),n=a(7294),i=a(512),u=a(3390),c=a(6523),o=a(9707),l=a(9718),d=a(5893);let f=["className","component"];var h=a(1983),m=a(1265),p=a(606);let _=(0,a(1977).Z)("MuiBox",["root"]),b=(0,m.Z)();var w=function(t={}){let{themeId:e,defaultTheme:a,defaultClassName:h="MuiBox-root",generateClassName:m}=t,p=(0,u.default)("div",{shouldForwardProp:t=>"theme"!==t&&"sx"!==t&&"as"!==t})(c.Z);return n.forwardRef(function(t,n){let u=(0,l.Z)(a),c=(0,o.Z)(t),{className:_,component:b="div"}=c,w=(0,s.Z)(c,f);return(0,d.jsx)(p,(0,r.Z)({as:b,ref:n,className:(0,i.Z)(_,m?m(h):h),theme:e&&u[e]||u},w))})}({themeId:p.Z,defaultTheme:b,defaultClassName:_.root,generateClassName:h.Z.generate})},1999:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cus_service/test",function(){return a(6462)}])},8134:function(t,e,a){"use strict";a.d(e,{q:function(){return r}});let r={apiKey:"AIzaSyAvG04eeCLcb6VBF7F61x7H-3zyTTBQfjM",authDomain:"tableorderservice.firebaseapp.com",projectId:"tableorderservice",storageBucket:"tableorderservice.appspot.com",messagingSenderId:"789767582873",appId:"1:789767582873:web:c0cc47801fff8ba1b8f408",measurementId:"G-25TT028B48"}},2850:function(t,e,a){"use strict";a.d(e,{P0:function(){return c},cn:function(){return o}});var r=a(7294),s=a(3977),n=a(9828),i=a(8134);class u{constructor(t,e,a,r,s="",n=!0){this.menu_id=t,this.menu_name=e,this.orderdetails_price=a,this.quantity=r,this.note=s,this.itemstatus=n}}class c{constructor(t,e,a,r,s){this.id=t,this.items=e,this.date=a,this.paymentStatus=r,this.totalPrice=s}}function o(t){let[e,a]=(0,r.useState)([]);return(0,r.useEffect)(()=>{let e=(0,s.ZF)(i.q),r=(0,n.ad)(e),o=(0,n.hJ)(r,"OrderDetails"),l=(0,n.IO)(o,(0,n.ar)("tableId","==",t)),d=(0,n.cf)(l,t=>{let e=[];t.forEach(t=>{let a=t.data(),r=t.id,s=a.items.map(t=>new u(t.menu_id,t.menu_name,t.orderdetails_price,t.quantity));e.push(new c(r,s,a.date,a.paymentStatus,a.totalPrice))}),a(e)});return()=>d()},[t]),e}},353:function(t,e,a){"use strict";a.d(e,{$:function(){return o}});var r=a(7294),s=a(3977),n=a(9828),i=a(8134),u=a(2850);class c{constructor(t,e,a=!1){this.id=t,this.table_number=e,this.status=a}}function o(){let[t,e]=(0,r.useState)([]);return(0,r.useEffect)(()=>{let t=(0,s.ZF)(i.q),a=(0,n.ad)(t);(async()=>{try{let t=(0,n.hJ)(a,"Tables"),r=await (0,n.PL)(t),s=[];for(let t of r.docs){let e=t.data(),a=new c(t.id,e.table_number,e.status);s.push(a)}for(let t of s){let e=(await l(a,t.id)).some(t=>!t.paymentStatus);await d(a,t.id,e),t.status=e}e(s)}catch(t){console.error("Error fetching data: ",t)}})()},[]),t}async function l(t,e){let a=(0,n.hJ)(t,"OrderDetails"),r=(0,n.IO)(a,(0,n.ar)("tableId","==",e)),s=await (0,n.PL)(r),i=[];return s.forEach(t=>{let e=t.data(),a=new u.P0(e.id,e.items,e.orderDate,e.paymentStatus,e.totalPrice);i.push(a)}),i}async function d(t,e,a){let r=(0,n.JU)(t,"Tables",e);await (0,n.r7)(r,{status:a})}},6462:function(t,e,a){"use strict";a.r(e);var r=a(5893),s=a(5616);a(7294);var n=a(353);e.default=()=>{let t=(0,n.$)();return(0,r.jsxs)(s.Z,{children:[(0,r.jsx)("h2",{children:"List of Table IDs:"}),(0,r.jsx)("ul",{children:t.map(t=>(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:"/cus_service/menu/?tableId=".concat(t.id),children:["Table ID: ",t.id]})},t.id))})]})}}},function(t){t.O(0,[16,474,888,774,179],function(){return t(t.s=1999)}),_N_E=t.O()}]);